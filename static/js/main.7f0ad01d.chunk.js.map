{"version":3,"sources":["components/Tile/Tile.js","components/Socketio.js","components/ChessBoard.js","components/Rules.js","components/Room.js","App.js","reportWebVitals.js","index.js"],"names":["Tile","props","number","className","image","style","backgroundImage","socket","io","on","board","rules","isAnyPieceBetween","x","y","boardState","type","px","py","console","log","prevX","find","p","prevY","isSquareOccupied","isEnPassant","color","direction","enPassant","isOpponent","validMove","Math","abs","xAxis","yAxis","initialBoard","i","push","ChessBoard","newBoard","setPieces","useState","currentPiece","setCurrentPiece","boardX","setGridX","boardY","setGridY","pieces","chessBoardRule","useRef","j","imgUrl","undefined","forEach","length","onMouseDown","e","chessrule","current","target","classList","contains","floor","clientX","offsetLeft","clientWidth","ceil","clientY","offsetTop","clientHeight","position","top","left","selectPiece","onMouseMove","minWidth","minHeight","maxWidth","maxHeight","movePiece","onMouseUp","playerPiece","newPieces","reduce","result","piece","id","window","sessionStorage","getItem","emit","removeProperty","releasePiece","ref","Room","create","gameId","setState","join","setItem","joinRoom","value","state","bind","React","createRef","Fragment","Jumbotron","Button","variant","onClick","this","to","Component","App","basename","location","pathname","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7f0ad01d.chunk.js","sourcesContent":["import React from 'react'\r\nimport '../../index.css'\r\n\r\nexport const Tile = (props) => {\r\n    if(props.number % 2 === 0)\r\n        return (\r\n            <div className=\"tile black-tiles\">\r\n                {props.image && <div style={{backgroundImage: `url(${props.image})`}} className=\"piece\"></div>}\r\n            </div>\r\n        )\r\n    else\r\n        return (\r\n            <div className=\"tile white-tiles\">\r\n                {props.image && <div style={{backgroundImage: `url(${props.image})`}} className=\"piece\"></div>}\r\n            </div>\r\n        )\r\n}","import {io} from 'socket.io-client'\r\nexport const socket = io(\"https://react-chess-backend.herokuapp.com/\")\r\n\r\nsocket.on('updateBoard', board => {\r\n    return board\r\n})\r\n\r\nexport const createRoom = () => {\r\n    let id = \"\"\r\n    socket.emit('createRoom',id) \r\n}\r\n\r\nexport const joinRoom = id => {\r\n    window.sessionStorage.setItem(\"gameId\",id)\r\n    socket.emit('join',id)\r\n    return id\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport { Tile } from './Tile/Tile'\r\nimport {socket} from './Socketio'\r\nimport Rules from './Rules'\r\n\r\nconst rules = new Rules()\r\nconst xAxis = [\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\"]\r\nconst yAxis = [\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\"]\r\n\r\nconst initialBoard = []\r\nfor(let i = 0; i < 2; i++){\r\n    let color = (i === 0) ? \"w\" : \"b\"\r\n    let y = (i === 0) ? 0 : 7\r\n    initialBoard.push({image: `img/${color}-king.png`, x: 4, y: y, type: \"king\" , color})\r\n    initialBoard.push({image: `img/${color}-queen.png`, x: 3, y: y , type: \"queen\" , color})\r\n    initialBoard.push({image: `img/${color}-bishop.png`, x: 5, y: y, type: \"bishop\" , color})\r\n    initialBoard.push({image: `img/${color}-bishop.png`, x: 2, y: y, type: \"bishop\" , color})\r\n    initialBoard.push({image: `img/${color}-knight.png`, x: 6, y: y , type: \"knight\" , color})\r\n    initialBoard.push({image: `img/${color}-knight.png`, x: 1, y: y , type: \"knight\", color})\r\n    initialBoard.push({image: `img/${color}-rook.png`, x: 7, y: y , type: \"rook\" , color})\r\n    initialBoard.push({image: `img/${color}-rook.png`, x: 0, y: y , type: \"rook\" , color})\r\n}\r\nfor(let i = 0; i < 9; i++)\r\n    initialBoard.push({image: \"img/b-pawn.png\" , x: i, y: 6 ,type: \"pawn\", color: \"b\"})\r\nfor(let i = 0; i < 9; i++)\r\n    initialBoard.push({image: \"img/w-pawn.png\" , x: i, y: 1,type: \"pawn\" , color: \"w\"})\r\n\r\nexport const ChessBoard = () => {\r\n    socket.on('updateBoard', newBoard => {\r\n        setPieces(newBoard)\r\n    })\r\n    const [currentPiece, setCurrentPiece] = useState(null)\r\n    const [boardX, setGridX] = useState(0)\r\n    const [boardY ,setGridY] = useState(0)\r\n    const [pieces, setPieces] = useState(initialBoard)\r\n    const chessBoardRule = useRef(null)\r\n    const selectPiece = e => {\r\n        const chessrule = chessBoardRule.current\r\n        if(e.target.classList.contains(\"piece\") && chessrule){\r\n            setGridX(Math.floor((e.clientX - chessrule.offsetLeft)/(chessrule.clientWidth/8)))\r\n            setGridY(Math.abs(Math.ceil((e.clientY - chessrule.offsetTop - 800)/(chessrule.clientWidth/8))))\r\n            const x = e.clientX - e.target.clientWidth/2\r\n            const y = e.clientY - e.target.clientHeight/2\r\n            e.target.style.position = \"absolute\"\r\n            e.target.style.top = `${y}px`\r\n            e.target.style.left = `${x}px`\r\n        }\r\n        setCurrentPiece(e.target)\r\n    }\r\n    \r\n    const movePiece = e => {\r\n        const chessrule = chessBoardRule.current\r\n        if(currentPiece && currentPiece.classList.contains(\"piece\") && chessrule){\r\n            const minWidth = chessrule.offsetLeft\r\n            const minHeight = chessrule.offsetTop\r\n            const maxWidth = chessrule.clientWidth + chessrule.offsetLeft - chessrule.clientWidth/8\r\n            const maxHeight = chessrule.clientHeight + chessrule.offsetTop - chessrule.clientHeight/8\r\n            const x = e.clientX - e.target.clientWidth/2\r\n            const y = e.clientY - e.target.clientHeight/2\r\n            currentPiece.style.position = \"absolute\"\r\n            if(x < minWidth)\r\n                currentPiece.style.left = `${minWidth}px`\r\n            else if (x > maxWidth)\r\n                currentPiece.style.left = `${maxWidth}px`\r\n            else \r\n                currentPiece.style.left = `${x}px`\r\n            if(y < minHeight)\r\n                currentPiece.style.top = `${minHeight}px`\r\n            else if (y > maxHeight) \r\n                currentPiece.style.top = `${maxHeight}px`\r\n            else \r\n                currentPiece.style.top = `${y}px`\r\n        }\r\n    }\r\n    \r\n    const releasePiece = e => {\r\n        const chessrule = chessBoardRule.current\r\n        if(currentPiece && chessrule){\r\n            const x = Math.floor((e.clientX - chessrule.offsetLeft)/(chessrule.clientWidth/8))\r\n            const y = Math.abs(Math.ceil((e.clientY - chessrule.offsetTop - 800)/(chessrule.clientWidth/8)))\r\n            const playerPiece = pieces.find(p => p.x === boardX && p.y === boardY)\r\n\r\n            if(playerPiece){\r\n                const validMove = rules.validMove(boardX, boardY, x, y, playerPiece.type, playerPiece.color, pieces)\r\n                const enPassant = rules.isEnPassant(boardX, boardY, x, y, playerPiece.type, playerPiece.color, pieces)\r\n                const direction = playerPiece.color === \"w\" ? 1 : -1\r\n                \r\n                if(enPassant){\r\n                    const newPieces = pieces.reduce((result, piece) => {\r\n                        if(piece.x === boardX && piece.y === boardY){\r\n                            piece.enPassant = false\r\n                            piece.x = x\r\n                            piece.y = y\r\n                            result.push(piece)\r\n                        }else if(!(piece.x === x && piece.y === y - direction)){\r\n                            if(piece.type === \"pawn\")\r\n                                    piece.enPassant = false\r\n                                result.push(piece)\r\n                        }\r\n                        return result\r\n                    },[])\r\n                    setPieces(newPieces)\r\n                    const id = window.sessionStorage.getItem(\"gameId\")\r\n                    socket.emit('move', id,newPieces)                        \r\n                }else if(validMove) {\r\n                        const newPieces = pieces.reduce((result, piece) => {\r\n                            if (piece.y === boardY && piece.x === boardX) {\r\n                                if(Math.abs(boardY - y) === 2 && piece.type === \"pawn\")\r\n                                    piece.enPassant = true\r\n                                else \r\n                                    piece.enPassant = false\r\n                                piece.x = x\r\n                                piece.y = y\r\n                                if(piece.type === \"pawn\" && (piece.y === 0 || piece.y === 7)){\r\n                                    piece.type = \"queen\"\r\n                                    piece.image = `img/${piece.color}-queen.png`\r\n                                }\r\n                                result.push(piece)   \r\n                            }else if(!(piece.x === x && piece.y === y)){\r\n                                if(piece.type === \"pawn\")\r\n                                    piece.enPassant = false\r\n                                result.push(piece)\r\n                            }\r\n                            return result\r\n                        },[])\r\n                        setPieces(newPieces)\r\n                        const id = window.sessionStorage.getItem(\"gameId\")\r\n                        socket.emit('move', id,newPieces)\r\n                        \r\n                }else{\r\n                    currentPiece.style.position = \"relative\"\r\n                    currentPiece.style.removeProperty(\"top\")\r\n                    currentPiece.style.removeProperty(\"left\")\r\n                }\r\n            }\r\n            setCurrentPiece(null)\r\n        }\r\n    }\r\n\r\n    const board = []\r\n    for(let j = yAxis.length - 1; j >= 0; j--){\r\n        for(let i = 0; i < xAxis.length; i++){\r\n            const number = i + j + 2\r\n            let imgUrl = undefined\r\n            pieces.forEach(p => {\r\n                if (p.x === i && p.y === j) \r\n                    imgUrl = p.image\r\n            })\r\n            board.push(<Tile number={number} key={xAxis[i]+yAxis[j]} image={imgUrl}/>)\r\n        }\r\n    }\r\n    \r\n    return(\r\n        <div className=\"board\" onMouseDown={e => selectPiece(e)} onMouseMove={e => movePiece(e)} onMouseUp={e => releasePiece(e)} ref={chessBoardRule}>\r\n            {board}\r\n        </div>\r\n    )\r\n}\r\n","export default class Rules{\r\n\r\n    isAnyPieceBetween = (x, y, boardState, type, px, py) => {\r\n        \r\n        console.log(\"x:\",x,\"y:\",y,\"prevx:\",px,\"prevY:\",py,\"type:\",type)\r\n        if(type === \"rook\"){\r\n            if(px - x > 0){ // left direction\r\n                for(let prevX = px-1; prevX > x; prevX--){\r\n                    const betweenPiece = boardState.find(p => p.x === prevX && p.y === y)\r\n                    if(betweenPiece)\r\n                        return true\r\n                }\r\n            }else if(px - x < 0){// right direction\r\n                for(let prevX = px+1; prevX < x; prevX++ ) {\r\n                    const betweenPiece = boardState.find(p => p.x === prevX && p.y === y)\r\n                    if(betweenPiece)\r\n                        return true\r\n                }\r\n            }\r\n            if(py - y > 0){ // down direction\r\n                for(let prevY = py-1; prevY > y; prevY--){\r\n                    const betweenPiece = boardState.find(p => p.y === prevY && p.x === x)\r\n                    if(betweenPiece)\r\n                        return true\r\n                }\r\n            }else if(py - y < 0){ // up direction\r\n                for(let prevY = py+1; prevY < y; prevY++ ) {\r\n                    const betweenPiece = boardState.find(p => p.y === prevY && p.x === x)\r\n                    if(betweenPiece)\r\n                        return true\r\n                }\r\n            }\r\n        }\r\n        return false\r\n    }\r\n    isSquareOccupied = (x, y, boardState) => {\r\n        const piece = boardState.find(p => p.x === x && p.y === y)\r\n        if(piece)\r\n            return true\r\n        else\r\n            return false\r\n    }\r\n\r\n    isEnPassant = (prevX, prevY, x, y, type, color, boardState) => {\r\n        if(type === \"pawn\"){\r\n            const direction = color === \"w\" ? 1 : -1\r\n            if((x - prevX === -1 || x - prevX === 1) && y - prevY === direction){\r\n                const piece = boardState.find(p => p.x === x && p.y === y - direction && p.enPassant)\r\n                if(piece)\r\n                    return true\r\n            }\r\n        }\r\n        return false\r\n\r\n    }\r\n\r\n    isOpponent = (x , y , boardState, color) => {\r\n        const piece = boardState.find(p => p.x === x && p.y === y && p.color !== color)\r\n        if(piece)\r\n            return true\r\n        else\r\n            return false\r\n    }\r\n\r\n    validMove = (prevX, prevY, x, y, type, color, boardState) => {\r\n        if (type === \"pawn\") {\r\n            const firstRow = (color === \"w\") ? 1 : 6\r\n            const direction = (color === \"w\") ? 1 : -1\r\n            if(prevX === x && prevY === firstRow && y - prevY === 2 * direction){\r\n                if(!this.isSquareOccupied(x , y , boardState) && !this.isSquareOccupied(x , y - direction, boardState))\r\n                    return true\r\n            }else if(prevX === x && y - prevY === direction){\r\n                if(!this.isSquareOccupied(x , y , boardState))\r\n                    return true\r\n            }else if(x - prevX === 1 && y - prevY === direction){\r\n                if(this.isOpponent(x , y , boardState , color))\r\n                    return true\r\n            }else if(x - prevX === - 1 && y - prevY === direction){\r\n                if(this.isOpponent(x , y , boardState , color))\r\n                    return true\r\n            }   \r\n        }\r\n\r\n        else if (type === \"bishop\") {\r\n            if (Math.abs(prevX - x) === Math.abs(prevY - y)) {\r\n                if(!this.isSquareOccupied(x , y , boardState))\r\n                    return true\r\n                else if(this.isOpponent(x, y, boardState ,color))\r\n                    return true\r\n            }\r\n        }\r\n\r\n        else if (type === \"rook\") {\r\n            if ((prevX !== x && prevY === y) || (prevX === x && prevY !== y)) {\r\n                if(!this.isAnyPieceBetween(x, y, boardState, type, prevX, prevY)){\r\n                    if(!this.isSquareOccupied(x , y, boardState))                    \r\n                        return true\r\n                    else if(this.isOpponent(x, y, boardState ,color))\r\n                        return true\r\n                }\r\n            }\r\n        }\r\n        \r\n        else if(type === \"knight\"){\r\n            if (prevX - x === 2 || prevX - x === -2) {\r\n                if(prevY - y === 1 || prevY - y === -1){\r\n                    if(!this.isSquareOccupied(x , y, boardState))\r\n                        return true\r\n                    else if(this.isOpponent(x, y, boardState ,color))\r\n                        return true\r\n                }\r\n            }else if (prevY - y === 2 || prevY - y === -2) {\r\n                if(prevX - x === 1 || prevX - x === -1){\r\n                    if(!this.isSquareOccupied(x , y, boardState))\r\n                        return true\r\n                    else if(this.isOpponent(x, y, boardState ,color))\r\n                        return true\r\n                }\r\n            }\r\n        }\r\n\r\n        else if(type === \"queen\"){\r\n            if(Math.abs(x - prevX) === Math.abs(y - prevY)){\r\n                if(!this.isSquareOccupied(x , y ,boardState))\r\n                    return true\r\n                else if(this.isOpponent(x, y, boardState ,color))\r\n                    return true\r\n            }\r\n            else if((prevX !== x && prevY === y) || (prevX === x && prevY !== y)) {\r\n                if(!this.isSquareOccupied(x , y, boardState))\r\n                    return true\r\n                else if(this.isOpponent(x, y, boardState ,color))\r\n                    return true\r\n            }\r\n        }\r\n\r\n        else if(type === \"king\"){\r\n            if(prevX - x === 1 || x - prevX === 1){\r\n                if(!this.isSquareOccupied(x , y, boardState))\r\n                    return true\r\n                else if(this.isOpponent(x, y, boardState ,color))\r\n                    return true\r\n            }\r\n            if(prevY - y === 1 || y - prevY === 1){\r\n                if(!this.isSquareOccupied(x , y, boardState))\r\n                    return true\r\n                else if(this.isOpponent(x, y, boardState ,color))\r\n                    return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport Jumbotron from 'react-bootstrap/Jumbotron'\r\nimport { Link } from 'react-router-dom'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { joinRoom, createRoom,socket} from './Socketio'\r\n\r\nclass Room extends Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            gameId : \"\"\r\n        }\r\n        this.join = this.join.bind(this)\r\n        this.create = this.create.bind(this)\r\n        this.id = React.createRef(null)\r\n    }\r\n    create = () => {\r\n        createRoom()\r\n        socket.on('generateId', gameId => {\r\n            this.setState({gameId: gameId})   \r\n        })\r\n        \r\n    }\r\n    join = () => {\r\n        const id = joinRoom(this.id.current.value)\r\n        this.setState({gameId : id})\r\n    }\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <Jumbotron className=\"text-center\">\r\n                    <h1>Welcome to Chess</h1>\r\n                    <h2>\r\n                        <Button variant=\"success\" className=\"w-100\" onClick={this.create}>Create Room</Button>\r\n                    </h2>\r\n                    <div>{this.state.gameId}</div>\r\n                    <Link to={this.state.gameId ? \"/game\" : \"/\"}>\r\n                        <h2>\r\n                            <Button variant=\"primary\" className=\"w-100\" onClick={this.join}>Join Room</Button>\r\n                        </h2>\r\n                    </Link>\r\n                    <input type=\"text\" className=\"w-100\" ref={this.id}/>\r\n                </Jumbotron>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Room","import React from 'react'\nimport {ChessBoard} from './components/ChessBoard'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport Room from './components/Room'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router basename={window.location.pathname || ''}>\n        <Switch>\n          <Route exact path=\"/\" component={Room}/>\n          <Route path=\"/game\" component={ChessBoard}/>\n        </Switch>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}