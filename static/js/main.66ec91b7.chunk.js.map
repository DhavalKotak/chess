{"version":3,"sources":["components/Tile/Tile.js","components/Socketio.js","components/ChessBoard.js","components/Rules.js","components/Room.js","App.js","reportWebVitals.js","index.js"],"names":["Tile","props","number","className","image","style","backgroundImage","color","socket","io","on","board","rules","isAnyPieceBetweenLinear","x","y","boardState","type","px","py","prevX","find","p","prevY","isAnyPieceBetweenAcross","isSquareOccupied","isEnPassant","direction","enPassant","isOpponent","validMove","Math","abs","xAxis","yAxis","initialBoard","i","push","ChessBoard","newBoard","setPieces","useState","currentPiece","setCurrentPiece","boardX","setGridX","boardY","setGridY","pieces","turn","changeTurn","chessBoardRule","useRef","releasePiece","e","chessrule","current","floor","clientX","offsetLeft","clientWidth","ceil","clientY","offsetTop","playerPiece","newPieces","reduce","result","piece","id","window","sessionStorage","getItem","emit","position","removeProperty","j","imgUrl","undefined","forEach","length","onMouseDown","target","classList","contains","clientHeight","top","left","selectPiece","onMouseMove","minWidth","minHeight","maxWidth","maxHeight","movePiece","onMouseUp","ref","Room","create","gameId","setState","join","setItem","joinRoom","value","state","bind","React","createRef","Fragment","Jumbotron","Button","variant","onClick","this","to","Component","App","basename","location","pathname","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.66ec91b7.chunk.js","sourcesContent":["import React from 'react'\r\nimport '../../index.css'\r\n\r\nexport const Tile = (props) => {\r\n    if(props.number % 2 === 0)\r\n        return (\r\n            <div className=\"tile black-tiles\">\r\n                {props.image && <div style={{backgroundImage: `url(${props.image})`}} className={`piece ${props.color}`}></div>}\r\n            </div>\r\n        )\r\n    else\r\n        return (\r\n            <div className=\"tile white-tiles\">\r\n                {props.image && <div style={{backgroundImage: `url(${props.image})`}} className={`piece ${props.color}`}></div>}\r\n            </div>\r\n        )\r\n}","import {io} from 'socket.io-client'\r\nexport const socket = io(\"https://react-chess-backend.herokuapp.com/\")\r\n\r\nsocket.on('updateBoard', board => {\r\n    return board\r\n})\r\n\r\nexport const createRoom = () => {\r\n    let id = \"\"\r\n    socket.emit('createRoom',id) \r\n}\r\n\r\nexport const joinRoom = id => {\r\n    window.sessionStorage.setItem(\"gameId\",id)\r\n    socket.emit('join',id)\r\n    return id\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport { Tile } from './Tile/Tile'\r\nimport {socket} from './Socketio'\r\nimport Rules from './Rules'\r\n\r\nconst rules = new Rules()\r\nconst xAxis = [\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\"]\r\nconst yAxis = [\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\"]\r\n\r\nconst initialBoard = []\r\nfor(let i = 0; i < 2; i++){\r\n    let color = (i === 0) ? \"w\" : \"b\"\r\n    let y = (i === 0) ? 0 : 7\r\n    initialBoard.push({image: `img/${color}-king.png`, x: 4, y: y, type: \"king\" , color})\r\n    initialBoard.push({image: `img/${color}-queen.png`, x: 3, y: y , type: \"queen\" , color})\r\n    initialBoard.push({image: `img/${color}-bishop.png`, x: 5, y: y, type: \"bishop\" , color})\r\n    initialBoard.push({image: `img/${color}-bishop.png`, x: 2, y: y, type: \"bishop\" , color})\r\n    initialBoard.push({image: `img/${color}-knight.png`, x: 6, y: y , type: \"knight\" , color})\r\n    initialBoard.push({image: `img/${color}-knight.png`, x: 1, y: y , type: \"knight\", color})\r\n    initialBoard.push({image: `img/${color}-rook.png`, x: 7, y: y , type: \"rook\" , color})\r\n    initialBoard.push({image: `img/${color}-rook.png`, x: 0, y: y , type: \"rook\" , color})\r\n}\r\nfor(let i = 0; i < 9; i++)\r\n    initialBoard.push({image: \"img/b-pawn.png\" , x: i, y: 6 ,type: \"pawn\", color: \"b\"})\r\nfor(let i = 0; i < 9; i++)\r\n    initialBoard.push({image: \"img/w-pawn.png\" , x: i, y: 1,type: \"pawn\" , color: \"w\"})\r\n\r\nexport const ChessBoard = () => {\r\n    socket.on('updateBoard', newBoard => {\r\n        setPieces(newBoard)\r\n    })\r\n    const [currentPiece, setCurrentPiece] = useState(null)\r\n    const [boardX, setGridX] = useState(0)\r\n    const [boardY ,setGridY] = useState(0)\r\n    const [pieces, setPieces] = useState(initialBoard)\r\n    const [turn, changeTurn] = useState(\"w\")\r\n    const chessBoardRule = useRef(null)\r\n    const selectPiece = e => {\r\n        const chessrule = chessBoardRule.current\r\n        if(e.target.classList.contains(\"piece\") && chessrule && e.target.classList.contains(`${turn}`)){\r\n            setGridX(Math.floor((e.clientX - chessrule.offsetLeft)/(chessrule.clientWidth/8)))\r\n            setGridY(Math.abs(Math.ceil((e.clientY - chessrule.offsetTop - chessrule.clientWidth)/(chessrule.clientWidth/8))))\r\n            const x = e.clientX - e.target.clientWidth/2\r\n            const y = e.clientY - e.target.clientHeight/2\r\n            e.target.style.position = \"absolute\"\r\n            e.target.style.top = `${y}px`\r\n            e.target.style.left = `${x}px`\r\n        }else{\r\n            releasePiece(e)\r\n        }\r\n        setCurrentPiece(e.target)\r\n    }\r\n    \r\n    const movePiece = e => {\r\n        const chessrule = chessBoardRule.current\r\n        if(currentPiece && currentPiece.classList.contains(\"piece\") && chessrule && e.target.classList.contains(`${turn}`)){\r\n            const minWidth = chessrule.offsetLeft\r\n            const minHeight = chessrule.offsetTop\r\n            const maxWidth = chessrule.clientWidth + chessrule.offsetLeft - chessrule.clientWidth/8\r\n            const maxHeight = chessrule.clientHeight + chessrule.offsetTop - chessrule.clientHeight/8\r\n            const x = e.clientX - e.target.clientWidth/2\r\n            const y = e.clientY - e.target.clientHeight/2\r\n            currentPiece.style.position = \"absolute\"\r\n            if(x < minWidth)\r\n                currentPiece.style.left = `${minWidth}px`\r\n            else if (x > maxWidth)\r\n                currentPiece.style.left = `${maxWidth}px`\r\n            else \r\n                currentPiece.style.left = `${x}px`\r\n            if(y < minHeight)\r\n                currentPiece.style.top = `${minHeight}px`\r\n            else if (y > maxHeight) \r\n                currentPiece.style.top = `${maxHeight}px`\r\n            else \r\n                currentPiece.style.top = `${y}px`\r\n        }\r\n    }\r\n    \r\n    const releasePiece = e => {\r\n        const chessrule = chessBoardRule.current\r\n        if(currentPiece && chessrule){\r\n            const x = Math.floor((e.clientX - chessrule.offsetLeft)/(chessrule.clientWidth/8))\r\n            const y = Math.abs(Math.ceil((e.clientY - chessrule.offsetTop - chessrule.clientWidth)/(chessrule.clientWidth/8)))\r\n            const playerPiece = pieces.find(p => p.x === boardX && p.y === boardY)\r\n            if(playerPiece){\r\n                const validMove = rules.validMove(boardX, boardY, x, y, playerPiece.type, playerPiece.color, pieces)\r\n                const enPassant = rules.isEnPassant(boardX, boardY, x, y, playerPiece.type, playerPiece.color, pieces)\r\n                const direction = playerPiece.color === \"w\" ? 1 : -1\r\n                \r\n                if(enPassant && playerPiece.color === turn){\r\n                    const newPieces = pieces.reduce((result, piece) => {\r\n                        if(piece.x === boardX && piece.y === boardY){\r\n                            piece.enPassant = false\r\n                            piece.x = x\r\n                            piece.y = y\r\n                            result.push(piece)\r\n                        }else if(!(piece.x === x && piece.y === y - direction)){\r\n                            if(piece.type === \"pawn\")\r\n                                    piece.enPassant = false\r\n                                result.push(piece)\r\n                        }\r\n                        return result\r\n                    },[])\r\n                    setPieces(newPieces)\r\n                    changeTurn((turn === \"w\") ? \"b\" : \"w\")\r\n                    const id = window.sessionStorage.getItem(\"gameId\")\r\n                    socket.emit('move', id,newPieces)                        \r\n                }else if(validMove && playerPiece.color === turn) {\r\n                        const newPieces = pieces.reduce((result, piece) => {\r\n                            if (piece.y === boardY && piece.x === boardX) {\r\n                                if(Math.abs(boardY - y) === 2 && piece.type === \"pawn\")\r\n                                    piece.enPassant = true\r\n                                else \r\n                                    piece.enPassant = false\r\n                                piece.x = x\r\n                                piece.y = y\r\n                                if(piece.type === \"pawn\" && (piece.y === 0 || piece.y === 7)){\r\n                                    piece.type = \"queen\"\r\n                                    piece.image = `img/${piece.color}-queen.png`\r\n                                }\r\n                                result.push(piece)   \r\n                            }else if(!(piece.x === x && piece.y === y)){\r\n                                if(piece.type === \"pawn\")\r\n                                    piece.enPassant = false\r\n                                result.push(piece)\r\n                            }\r\n                            return result\r\n                        },[])\r\n                        setPieces(newPieces)\r\n                        changeTurn((turn === \"w\") ? \"b\" : \"w\")        \r\n                        const id = window.sessionStorage.getItem(\"gameId\")\r\n                        socket.emit('move', id,newPieces)\r\n                        \r\n                }else{\r\n                    currentPiece.style.position = \"relative\"\r\n                    currentPiece.style.removeProperty(\"top\")\r\n                    currentPiece.style.removeProperty(\"left\")\r\n                }\r\n            }\r\n            setCurrentPiece(null)\r\n        }\r\n    }\r\n\r\n    const board = []\r\n    for(let j = yAxis.length - 1; j >= 0; j--){\r\n        for(let i = 0; i < xAxis.length; i++){\r\n            const number = i + j + 2\r\n            let imgUrl = undefined, color = \"\"\r\n            pieces.forEach(p => {\r\n                if (p.x === i && p.y === j) {\r\n                    imgUrl = p.image\r\n                    color = p.color\r\n                }      \r\n            })\r\n            board.push(<Tile number={number} key={xAxis[i]+yAxis[j]} image={imgUrl} color={color}/>)\r\n        }\r\n    }\r\n    \r\n    return(\r\n        <div className=\"board\" onMouseDown={e => selectPiece(e)} onMouseMove={e => movePiece(e)} onMouseUp={e => releasePiece(e)} ref={chessBoardRule}>\r\n            {board}\r\n        </div>\r\n    )\r\n}\r\n","export default class Rules{\r\n\r\n    isAnyPieceBetweenLinear = (x, y, boardState, type, px, py) => {\r\n        \r\n        if(type === \"rook\" || type === \"queen\"){\r\n            if(px > x ){\r\n                for(let prevX = px-1; prevX > x; prevX--){\r\n                    const betweenPiece = boardState.find(p => p.x === prevX && p.y === y)\r\n                    if(betweenPiece)\r\n                        return true\r\n                }\r\n            }else if(px < x ){\r\n                for(let prevX = px+1; prevX < x; prevX++ ) {\r\n                    const betweenPiece = boardState.find(p => p.x === prevX && p.y === y)\r\n                    if(betweenPiece)\r\n                        return true\r\n                }\r\n            }\r\n            if(py > y ){ \r\n                for(let prevY = py-1; prevY > y; prevY--){\r\n                    const betweenPiece = boardState.find(p => p.y === prevY && p.x === x)\r\n                    if(betweenPiece)\r\n                        return true\r\n                }\r\n            }else if(py < y ){ \r\n                for(let prevY = py+1; prevY < y; prevY++ ) {\r\n                    const betweenPiece = boardState.find(p => p.y === prevY && p.x === x)\r\n                    if(betweenPiece)\r\n                        return true\r\n                }\r\n            }\r\n        } \r\n        return false\r\n    }\r\n\r\n    isAnyPieceBetweenAcross = (x, y, boardState, type, px, py) => {\r\n        \r\n        if(type === \"bishop\" || type === \"queen\"){\r\n            if(px > x && py > y){\r\n                for(let prevX = px - 1,prevY = py - 1;prevX > x && prevY > y; ){\r\n                    const betweenPiece = boardState.find(p => p.x === prevX && p.y === prevY)\r\n                    if(betweenPiece)\r\n                        return true\r\n                    prevX--\r\n                    prevY--\r\n                }\r\n            }else if(px < x && py > y){\r\n                for(let prevX = px + 1,prevY = py - 1;prevX < x && prevY > y; ){\r\n                    const betweenPiece = boardState.find(p => p.x === prevX && p.y === prevY)\r\n                    if(betweenPiece)\r\n                        return true\r\n                    prevX++\r\n                    prevY--\r\n                }\r\n            }else if(px > x && py < y){\r\n                for(let prevX = px - 1,prevY = py + 1;prevX > x && prevY < y; ){\r\n                    const betweenPiece = boardState.find(p => p.x === prevX && p.y === prevY)\r\n                    if(betweenPiece)\r\n                        return true\r\n                    prevX--\r\n                    prevY++\r\n                }\r\n            }else{\r\n                for(let prevX = px + 1,prevY = py + 1;prevX < x && prevY < y ;){\r\n                    const betweenPiece = boardState.find(p => p.x === prevX && p.y === prevY)\r\n                    if(betweenPiece)\r\n                        return true\r\n                    prevX++\r\n                    prevY++\r\n                }\r\n            }\r\n        }\r\n        return false\r\n    }\r\n    isSquareOccupied = (x, y, boardState) => {\r\n        const piece = boardState.find(p => p.x === x && p.y === y)\r\n        if(piece)\r\n            return true\r\n        else\r\n            return false\r\n    }\r\n\r\n    isEnPassant = (prevX, prevY, x, y, type, color, boardState) => {\r\n        if(type === \"pawn\"){\r\n            const direction = color === \"w\" ? 1 : -1\r\n            if((x - prevX === -1 || x - prevX === 1) && y - prevY === direction){\r\n                const piece = boardState.find(p => p.x === x && p.y === y - direction && p.enPassant)\r\n                if(piece)\r\n                    return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n    isOpponent = (x , y , boardState, color) => {\r\n        const piece = boardState.find(p => p.x === x && p.y === y && p.color !== color)\r\n        if(piece)\r\n            return true\r\n        else\r\n            return false\r\n    }\r\n\r\n    validMove = (prevX, prevY, x, y, type, color, boardState) => {\r\n        if (type === \"pawn\") {\r\n            const firstRow = (color === \"w\") ? 1 : 6\r\n            const direction = (color === \"w\") ? 1 : -1\r\n            if(prevX === x && prevY === firstRow && y - prevY === 2 * direction){\r\n                if(!this.isSquareOccupied(x , y , boardState) && !this.isSquareOccupied(x , y - direction, boardState))\r\n                    return true\r\n            }else if(prevX === x && y - prevY === direction){\r\n                if(!this.isSquareOccupied(x , y , boardState))\r\n                    return true\r\n            }else if(x - prevX === 1 && y - prevY === direction){\r\n                if(this.isOpponent(x , y , boardState , color))\r\n                    return true\r\n            }else if(x - prevX === - 1 && y - prevY === direction){\r\n                if(this.isOpponent(x , y , boardState , color))\r\n                    return true\r\n            }   \r\n        }\r\n\r\n        else if (type === \"bishop\") {\r\n            if (Math.abs(prevX - x) === Math.abs(prevY - y)) {\r\n                if(!this.isAnyPieceBetweenAcross(x, y, boardState, type, prevX, prevY)){\r\n                    if(!this.isSquareOccupied(x , y , boardState))\r\n                        return true\r\n                    else if(this.isOpponent(x, y, boardState ,color))\r\n                        return true\r\n                }\r\n            }\r\n        }\r\n\r\n        else if (type === \"rook\") {\r\n            if ((prevX !== x && prevY === y) || (prevX === x && prevY !== y)) {\r\n                if(!this.isAnyPieceBetweenLinear(x, y, boardState, type, prevX, prevY)){\r\n                    if(!this.isSquareOccupied(x , y, boardState))                    \r\n                        return true\r\n                    else if(this.isOpponent(x, y, boardState ,color))\r\n                        return true\r\n                }\r\n            }\r\n        }\r\n        \r\n        else if(type === \"knight\"){\r\n            if (prevX - x === 2 || prevX - x === -2) {\r\n                if(prevY - y === 1 || prevY - y === -1){\r\n                    if(!this.isSquareOccupied(x , y, boardState))\r\n                        return true\r\n                    else if(this.isOpponent(x, y, boardState ,color))\r\n                        return true\r\n                }\r\n            }else if (prevY - y === 2 || prevY - y === -2) {\r\n                if(prevX - x === 1 || prevX - x === -1){\r\n                    if(!this.isSquareOccupied(x , y, boardState))\r\n                        return true\r\n                    else if(this.isOpponent(x, y, boardState ,color))\r\n                        return true\r\n                }\r\n            }\r\n        }\r\n\r\n        else if(type === \"queen\"){\r\n            if(Math.abs(x - prevX) === Math.abs(y - prevY)){\r\n                if(!this.isAnyPieceBetweenAcross(x, y, boardState, type, prevX, prevY)){\r\n                    if(!this.isSquareOccupied(x , y ,boardState))\r\n                        return true\r\n                    else if(this.isOpponent(x, y, boardState ,color))\r\n                        return true\r\n                }\r\n            }\r\n            else if((prevX !== x && prevY === y) || (prevX === x && prevY !== y)) {\r\n                if(!this.isAnyPieceBetweenLinear(x, y, boardState, type, prevX, prevY)){\r\n                    if(!this.isSquareOccupied(x , y, boardState))                    \r\n                        return true\r\n                    else if(this.isOpponent(x, y, boardState ,color))\r\n                        return true\r\n                }\r\n            }\r\n        }\r\n\r\n        else if(type === \"king\"){\r\n            if(prevX - x === 1 || x - prevX === 1){\r\n                if(!this.isSquareOccupied(x , y, boardState))\r\n                    return true\r\n                else if(this.isOpponent(x, y, boardState ,color))\r\n                    return true\r\n            }\r\n            if(prevY - y === 1 || y - prevY === 1){\r\n                if(!this.isSquareOccupied(x , y, boardState))\r\n                    return true\r\n                else if(this.isOpponent(x, y, boardState ,color))\r\n                    return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport Jumbotron from 'react-bootstrap/Jumbotron'\r\nimport { Link } from 'react-router-dom'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { joinRoom, createRoom,socket} from './Socketio'\r\n\r\nclass Room extends Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            gameId : \"\"\r\n        }\r\n        this.join = this.join.bind(this)\r\n        this.create = this.create.bind(this)\r\n        this.id = React.createRef(null)\r\n    }\r\n    create = () => {\r\n        createRoom()\r\n        socket.on('generateId', gameId => {\r\n            this.setState({gameId: gameId})   \r\n        })\r\n        \r\n    }\r\n    join = () => {\r\n        const id = joinRoom(this.id.current.value)\r\n        this.setState({gameId : id})\r\n    }\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <Jumbotron className=\"text-center\">\r\n                    <h1>Welcome to Chess</h1>\r\n                    <h2>\r\n                        <Button variant=\"success\" className=\"w-100\" onClick={this.create}>Create Room</Button>\r\n                    </h2>\r\n                    <div>{this.state.gameId}</div>\r\n                    <Link to={this.state.gameId ? \"/game\" : \"/\"}>\r\n                        <h2>\r\n                            <Button variant=\"primary\" className=\"w-100\" onClick={this.join}>Join Room</Button>\r\n                        </h2>\r\n                    </Link>\r\n                    <input type=\"text\" className=\"w-100\" ref={this.id}/>\r\n                </Jumbotron>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Room","import React from 'react'\nimport {ChessBoard} from './components/ChessBoard'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport Room from './components/Room'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router basename={window.location.pathname || ''}>\n        <Switch>\n          <Route exact path=\"/\" component={Room}/>\n          <Route path=\"/game\" component={ChessBoard}/>\n        </Switch>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}